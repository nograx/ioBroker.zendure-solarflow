{
  "version": 3,
  "sources": ["../../src/services/mqttSharedService.ts"],
  "sourcesContent": ["/* eslint-disable @typescript-eslint/indent */\nimport { ZendureSolarflow } from \"../main\";\n\nimport { IMqttData } from \"../models/ISolarFlowMqttProperties\";\nimport { ISolarflowState } from \"../models/ISolarflowState\";\n\nexport let adapter: ZendureSolarflow | undefined = undefined;\n\nexport const knownPackDataProperties = [\n  \"sn\",\n  \"totalVol\",\n  \"maxVol\",\n  \"minVol\",\n  \"socLevel\",\n  \"maxTemp\",\n  \"soh\",\n  \"power\",\n  \"batcur\",\n];\n\nexport const initAdapter = (_adapter: ZendureSolarflow): boolean => {\n  adapter = _adapter;\n\n  adapter.log.debug(\"[initAdapter] Init adapter in mqttSharedService!\");\n\n  return true;\n};\n\nexport const onMessage = async (\n  topic: string,\n  message: Buffer,\n): Promise<void> => {\n  if (adapter) {\n    if (topic.toLowerCase().includes(\"loginOut/force\")) {\n      // TODO: Ausloggen???\n    }\n\n    const topicSplitted = topic.replace(\"/server/app\", \"\").split(\"/\");\n    const productKey = topicSplitted[1];\n    const deviceKey = topicSplitted[2];\n\n    let obj: IMqttData = {};\n    try {\n      obj = JSON.parse(message.toString());\n    } catch (e) {\n      const txt = message.toString();\n      adapter.log.error(`[onMessage] JSON Parse error!`);\n\n      adapter.log.debug(`[onMessage] JSON Parse error: ${txt}!`);\n    }\n\n    let isSolarFlow = false;\n\n    const _device = adapter?.zenHaDeviceList.find(\n      (x) => x.deviceKey == deviceKey,\n    );\n\n    if (!_device) {\n      adapter.log.error(\n        `[onMessage] DeviceKey '${deviceKey} not found in device list!'}`,\n      );\n    }\n\n    if (adapter.log.level == \"debug\") {\n      adapter.log.debug(\n        `[onMessage] MQTT message on topic '${topic}': ${message.toString()}`,\n      );\n    }\n\n    /*     if (obj.timestamp) {\n      const currentTimeStamp = new Date().getTime() / 1000;\n      const diff = currentTimeStamp - obj.timestamp;\n\n      if (diff > 600) {\n        // Timestamp older than 5 Minutens, device is offline!\n        _device?.updateSolarFlowState(\"wifiState\", \"Disconnected\");\n      } else {\n        // Timestamp older than 5 Minutens, device is offline!\n        _device?.updateSolarFlowState(\"wifiState\", \"Connected\");\n      }\n    } */\n\n    // Check if device is an solarflow or hyper device. Don't use LowVoltageBlock on an ACE device?\n    if (productKey != \"8bM93H\") {\n      isSolarFlow = true;\n    }\n\n    //\n    if (obj.function == \"deviceAutomation\" && obj.success == 1) {\n      // setDeviceAutomationInOutLimit ack = true setzen;\n      const currentValue = await adapter.getStateAsync(\n        productKey + \".\" + deviceKey + \".control.setDeviceAutomationInOutLimit\",\n      );\n\n      _device?.updateSolarFlowControlState(\n        \"setDeviceAutomationInOutLimit\",\n        currentValue?.val ? currentValue.val : 0,\n      );\n    } else if (obj.function == \"deviceAutomation\" && obj.success == 0) {\n      adapter?.log.warn(\n        `[onMessage] device automation failed for ${_device?.productName}: ${productKey}/${deviceKey}!`,\n      );\n    }\n\n    if (\n      obj.properties?.autoModel != null &&\n      obj.properties?.autoModel != undefined\n    ) {\n      _device?.updateSolarFlowState(\"autoModel\", obj.properties.autoModel);\n\n      _device?.updateSolarFlowControlState(\n        \"autoModel\",\n        obj.properties.autoModel,\n      );\n    }\n\n    if (\n      obj.properties?.heatState != null &&\n      obj.properties?.heatState != undefined\n    ) {\n      const value = obj.properties?.heatState == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"heatState\", value);\n    }\n\n    if (\n      obj.properties?.electricLevel != null &&\n      obj.properties?.electricLevel != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"electricLevel\",\n        obj.properties.electricLevel,\n      );\n\n      if (\n        adapter?.config.useCalculation &&\n        obj.properties.electricLevel == 100 &&\n        isSolarFlow\n      ) {\n        _device?.setEnergyWhMax();\n      }\n\n      if (obj.properties.electricLevel == 100) {\n        const fullChargeNeeded = await adapter.getStateAsync(\n          productKey + \".\" + deviceKey + \".control.fullChargeNeeded\",\n        );\n\n        if (\n          fullChargeNeeded &&\n          fullChargeNeeded.val &&\n          fullChargeNeeded.val == true\n        ) {\n          await adapter?.setState(\n            `${productKey}.${deviceKey}.control.fullChargeNeeded`,\n            false,\n            true,\n          );\n        }\n      }\n\n      // if minSoc is reached, set the calculated soc to 0\n      const minSoc = await adapter?.getStateAsync(\n        `${productKey}.${deviceKey}.minSoc`,\n      );\n      if (\n        adapter?.config.useCalculation &&\n        minSoc &&\n        minSoc.val &&\n        obj.properties.electricLevel == Number(minSoc.val) &&\n        isSolarFlow\n      ) {\n        _device?.setSocToZero();\n      }\n    }\n\n    if (obj.power != null && obj.power != undefined) {\n      const value = obj.power / 10;\n      _device?.updateSolarFlowState(\"power\", value);\n    }\n\n    if (\n      obj.properties?.packState != null &&\n      obj.properties?.packState != undefined\n    ) {\n      const value =\n        obj.properties?.packState == 0\n          ? \"Idle\"\n          : obj.properties?.packState == 1\n            ? \"Charging\"\n            : obj.properties?.packState == 2\n              ? \"Discharging\"\n              : \"Unknown\";\n      _device?.updateSolarFlowState(\"packState\", value);\n\n      if (obj.properties?.packState) {\n        // Update combined data point\n        _device?.updateSolarFlowState(\"packPower\", 0);\n      }\n    }\n\n    if (\n      obj.properties?.passMode != null &&\n      obj.properties?.passMode != undefined\n    ) {\n      const value =\n        obj.properties?.passMode == 0\n          ? \"Automatic\"\n          : obj.properties?.passMode == 1\n            ? \"Always off\"\n            : obj.properties?.passMode == 2\n              ? \"Always on\"\n              : \"Unknown\";\n      _device?.updateSolarFlowState(\"passMode\", value);\n\n      _device?.updateSolarFlowControlState(\n        \"passMode\",\n        obj.properties?.passMode,\n      );\n    }\n\n    if (obj.properties?.pass != null && obj.properties?.pass != undefined) {\n      const value = obj.properties?.pass == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"pass\", value);\n    }\n\n    if (\n      obj.properties?.autoRecover != null &&\n      obj.properties?.autoRecover != undefined\n    ) {\n      const value = obj.properties?.autoRecover == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"autoRecover\", value);\n\n      _device?.updateSolarFlowControlState(\"autoRecover\", value);\n    }\n\n    if (\n      obj.properties?.outputHomePower != null &&\n      obj.properties?.outputHomePower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"outputHomePower\",\n        obj.properties.outputHomePower,\n      );\n    }\n\n    if (\n      obj.properties?.energyPower != null &&\n      obj.properties?.energyPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\"energyPower\", obj.properties.energyPower);\n    }\n\n    if (\n      obj.properties?.outputLimit != null &&\n      obj.properties?.outputLimit != undefined\n    ) {\n      _device?.updateSolarFlowState(\"outputLimit\", obj.properties.outputLimit);\n\n      _device?.updateSolarFlowControlState(\n        \"setOutputLimit\",\n        obj.properties.outputLimit,\n      );\n    }\n\n    if (\n      obj.properties?.smartMode != null &&\n      obj.properties?.smartMode != undefined\n    ) {\n      const value = obj.properties?.smartMode == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"smartMode\", value);\n\n      _device?.updateSolarFlowControlState(\"smartMode\", value);\n    }\n\n    if (\n      obj.properties?.buzzerSwitch != null &&\n      obj.properties?.buzzerSwitch != undefined\n    ) {\n      const value = obj.properties?.buzzerSwitch == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"buzzerSwitch\", value);\n\n      _device?.updateSolarFlowControlState(\"buzzerSwitch\", value);\n    }\n\n    if (\n      obj.properties?.outputPackPower != null &&\n      obj.properties?.outputPackPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"outputPackPower\",\n        obj.properties.outputPackPower,\n      );\n\n      if (obj.properties?.outputPackPower > 0) {\n        // Update combined data point\n        _device?.updateSolarFlowState(\n          \"packPower\",\n          obj.properties.outputPackPower,\n        );\n      } else if (obj.properties?.outputPackPower == 0) {\n        // Check if packInputPower is 0\n        const packInputPower = await adapter?.getStateAsync(\n          productKey + \".\" + deviceKey + \".packInputPower\",\n        );\n\n        if (packInputPower?.val == 0) {\n          // Update combined data point to 0 as both are 0\n          _device?.updateSolarFlowState(\n            \"packPower\",\n            -Math.abs(obj.properties.outputPackPower),\n          );\n        }\n      }\n\n      // if outPutPackPower set packInputPower to 0\n      _device?.updateSolarFlowState(\"packInputPower\", 0);\n    }\n\n    if (\n      obj.properties?.packInputPower != null &&\n      obj.properties?.packInputPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"packInputPower\",\n        obj.properties.packInputPower,\n      );\n\n      if (obj.properties?.packInputPower > 0) {\n        // Update combined data point\n        _device?.updateSolarFlowState(\n          \"packPower\",\n          -Math.abs(obj.properties.packInputPower),\n        );\n      } else if (obj.properties?.packInputPower == 0) {\n        // Check if outputPackPower is 0\n        const outputPackPower = await adapter?.getStateAsync(\n          productKey + \".\" + deviceKey + \".outputPackPower\",\n        );\n\n        if (outputPackPower?.val == 0) {\n          // Update combined data point to 0 as both are 0\n          _device?.updateSolarFlowState(\n            \"packPower\",\n            -Math.abs(obj.properties.packInputPower),\n          );\n        }\n      }\n\n      // if packInputPower set outputPackPower to 0\n      _device?.updateSolarFlowState(\"outputPackPower\", 0);\n    }\n\n    if (\n      obj.properties?.solarInputPower != null &&\n      obj.properties?.solarInputPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"solarInputPower\",\n        obj.properties.solarInputPower,\n      );\n    }\n\n    if (\n      obj.properties?.pvPower1 != null &&\n      obj.properties?.pvPower1 != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"pvPower2\", // Reversed to adjust like offical app\n        obj.properties.pvPower1,\n      );\n    }\n\n    if (\n      obj.properties?.pvPower2 != null &&\n      obj.properties?.pvPower2 != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"pvPower1\", // Reversed to adjust like offical app\n        obj.properties.pvPower2,\n      );\n    }\n\n    if (\n      obj.properties?.solarPower1 != null &&\n      obj.properties?.solarPower1 != undefined\n    ) {\n      _device?.updateSolarFlowState(\"pvPower1\", obj.properties.solarPower1);\n    }\n\n    if (\n      obj.properties?.solarPower2 != null &&\n      obj.properties?.solarPower2 != undefined\n    ) {\n      _device?.updateSolarFlowState(\"pvPower2\", obj.properties.solarPower2);\n    }\n\n    if (\n      obj.properties?.solarPower3 != null &&\n      obj.properties?.solarPower3 != undefined\n    ) {\n      _device?.updateSolarFlowState(\"pvPower3\", obj.properties.solarPower3);\n    }\n\n    if (\n      obj.properties?.solarPower4 != null &&\n      obj.properties?.solarPower4 != undefined\n    ) {\n      _device?.updateSolarFlowState(\"pvPower4\", obj.properties.solarPower4);\n    }\n\n    if (\n      obj.properties?.remainOutTime != null &&\n      obj.properties?.remainOutTime != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"remainOutTime\",\n        obj.properties.remainOutTime,\n      );\n    }\n\n    if (\n      obj.properties?.remainInputTime != null &&\n      obj.properties?.remainInputTime != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"remainInputTime\",\n        obj.properties.remainInputTime,\n      );\n    }\n\n    if (obj.properties?.socSet != null && obj.properties?.socSet != undefined) {\n      _device?.updateSolarFlowState(\n        \"socSet\",\n        Number(obj.properties.socSet) / 10,\n      );\n\n      _device?.updateSolarFlowControlState(\n        \"chargeLimit\",\n        Number(obj.properties.socSet) / 10,\n      );\n    }\n\n    if (obj.properties?.minSoc != null && obj.properties?.minSoc != undefined) {\n      _device?.updateSolarFlowState(\n        \"minSoc\",\n        Number(obj.properties.minSoc) / 10,\n      );\n\n      _device?.updateSolarFlowControlState(\n        \"dischargeLimit\",\n        Number(obj.properties.minSoc) / 10,\n      );\n    }\n\n    if (\n      obj.properties?.inputLimit != null &&\n      obj.properties?.inputLimit != undefined\n    ) {\n      _device?.updateSolarFlowState(\"inputLimit\", obj.properties.inputLimit);\n\n      _device?.updateSolarFlowControlState(\n        \"setInputLimit\",\n        obj.properties.inputLimit,\n      );\n    }\n\n    if (\n      obj.properties?.gridInputPower != null &&\n      obj.properties?.gridInputPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"gridInputPower\",\n        obj.properties.gridInputPower,\n      );\n    }\n\n    if (obj.properties?.acMode != null && obj.properties?.acMode != undefined) {\n      _device?.updateSolarFlowState(\"acMode\", obj.properties.acMode);\n\n      _device?.updateSolarFlowControlState(\"acMode\", obj.properties.acMode);\n    }\n\n    if (\n      obj.properties?.hyperTmp != null &&\n      obj.properties?.hyperTmp != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"hyperTmp\",\n        obj.properties.hyperTmp / 10 - 273.15,\n      );\n    }\n\n    if (\n      obj.properties?.acOutputPower != null &&\n      obj.properties?.acOutputPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"acOutputPower\",\n        obj.properties.acOutputPower,\n      );\n    }\n\n    if (\n      obj.properties?.gridPower != null &&\n      obj.properties?.gridPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\"gridInputPower\", obj.properties.gridPower);\n    }\n\n    if (\n      obj.properties?.acSwitch != null &&\n      obj.properties?.acSwitch != undefined\n    ) {\n      const value = obj.properties?.acSwitch == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"acSwitch\", value);\n\n      _device?.updateSolarFlowControlState(\"acSwitch\", value);\n    }\n\n    if (\n      obj.properties?.dcSwitch != null &&\n      obj.properties?.dcSwitch != undefined\n    ) {\n      const value = obj.properties?.dcSwitch == 0 ? false : true;\n\n      _device?.updateSolarFlowState(\"dcSwitch\", value);\n\n      _device?.updateSolarFlowControlState(\"dcSwitch\", value);\n    }\n\n    if (\n      obj.properties?.dcOutputPower != null &&\n      obj.properties?.dcOutputPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"dcOutputPower\",\n        obj.properties.dcOutputPower,\n      );\n    }\n\n    if (\n      obj.properties?.pvBrand != null &&\n      obj.properties?.pvBrand != undefined\n    ) {\n      const value =\n        obj.properties?.pvBrand == 0\n          ? \"Others\"\n          : obj.properties?.pvBrand == 1\n            ? \"Hoymiles\"\n            : obj.properties?.pvBrand == 2\n              ? \"Enphase\"\n              : obj.properties?.pvBrand == 3\n                ? \"APSystems\"\n                : obj.properties?.pvBrand == 4\n                  ? \"Anker\"\n                  : obj.properties?.pvBrand == 5\n                    ? \"Deye\"\n                    : obj.properties?.pvBrand == 6\n                      ? \"Bosswerk\"\n                      : \"Unknown\";\n      _device?.updateSolarFlowState(\"pvBrand\", value);\n    }\n\n    if (\n      obj.properties?.inverseMaxPower != null &&\n      obj.properties?.inverseMaxPower != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"inverseMaxPower\",\n        obj.properties.inverseMaxPower,\n      );\n    }\n\n    if (\n      obj.properties?.wifiState != null &&\n      obj.properties?.wifiState != undefined\n    ) {\n      _device?.updateSolarFlowState(\n        \"wifiState\",\n        obj.properties.wifiState == 1 ? \"Connected\" : \"Disconnected\",\n      );\n    }\n\n    if (\n      obj.properties?.packNum != null &&\n      obj.properties?.packNum != undefined\n    ) {\n      _device?.updateSolarFlowState(\"packNum\", obj.properties.packNum);\n    }\n\n    if (\n      obj.properties?.hubState != null &&\n      obj.properties?.hubState != undefined\n    ) {\n      _device?.updateSolarFlowState(\"hubState\", obj.properties.hubState);\n\n      _device?.updateSolarFlowControlState(\"hubState\", obj.properties.hubState);\n    }\n\n    if (obj.packData) {\n      _device?.addOrUpdatePackData(obj.packData, isSolarFlow);\n    }\n\n    if (obj.properties && adapter.log.level == \"debug\") {\n      let found = false;\n\n      Object.entries(obj.properties).forEach(([key, value]) => {\n        _device?.states.forEach((state: ISolarflowState) => {\n          if (state.title == key) {\n            found = true;\n          }\n        });\n\n        if (found) {\n          //console.log(\n          //  `${productName?.val}: ${key} with value ${value} is a KNOWN Mqtt Prop!`\n          //);\n        } else {\n          adapter?.log.debug(\n            `[onMessage] ${_device?.deviceKey}: ${key} with value ${JSON.stringify(value)} is a UNKNOWN Mqtt Property!`,\n          );\n        }\n      });\n    }\n  }\n};\n\nexport const onConnected = (): void => {\n  if (adapter) {\n    adapter.lastLogin = new Date();\n    adapter.setState(\"info.connection\", true, true);\n    adapter.log.info(\"[onConnected] Connected with MQTT!\");\n  }\n};\n\nexport const onReconnected = (): void => {\n  if (adapter) {\n    adapter.lastLogin = new Date();\n    adapter.setState(\"info.connection\", true, true);\n    adapter.log.info(\"[onReconnected] Reconnected to MQTT!\");\n  }\n};\n\nexport const onDisconnected = (): void => {\n  if (adapter) {\n    adapter.lastLogin = new Date();\n    adapter.setState(\"info.connection\", false, true);\n    adapter.log.info(\"[onDisconnected] Disconnected from MQTT!\");\n  }\n};\n\nexport const onError = (error: any): void => {\n  if (adapter) {\n    adapter.setState(\"info.connection\", false, true);\n    adapter.log.error(\"Connection to MQTT failed! Error: \" + error);\n  }\n};\n\nexport const onSubscribeReportTopic: any = (error: Error | null) => {\n  if (error) {\n    adapter?.log.error(\"Subscription to MQTT failed! Error: \" + error);\n  } else {\n    adapter?.log.debug(\"Subscription of Report Topic successful!\");\n  }\n};\n\nexport const onSubscribeIotTopic: any = (\n  error: Error | null,\n  productKey: string,\n  deviceKey: string,\n) => {\n  if (error) {\n    adapter?.log.error(\"Subscription to MQTT failed! Error: \" + error);\n  } else if (adapter) {\n    adapter?.log.debug(\"Subscription of IOT Topic successful!\");\n\n    const _device = adapter.zenHaDeviceList.find(\n      (x) => x.productKey == productKey && x.deviceKey == deviceKey,\n    );\n\n    if (_device) {\n      _device.triggerFullTelemetryUpdate();\n    }\n  }\n};\n"],
  "mappings": "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",
  "names": []
}
